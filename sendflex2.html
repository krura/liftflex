<html>
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover"
    />
    <title>Send Flex to Openchat</title>
   <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"> -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href='https://fonts.googleapis.com/css?family=Kanit|Niramit|Pattaya|Prompt|Sarabun|Sriracha|Questrial|Mitr|Mali|Itim' rel='stylesheet' type='text/css'>
      <script src="https://kit.fontawesome.com/ad42651166.js" crossorigin="anonymous"></script>
    
    <script src="https://code.jquery.com/jquery-3.7.0.min.js" integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>

  </head>
<link href="style.css" rel="stylesheet" type="text/css" />
<link href="flex2html.css" rel="stylesheet" type="text/css" />



  <body onload="showFlex()">
    <div class="container mt-2">
  <div class="card ">
  <div class="card-body">
      <div class="alert alert-primary" role="alert">
       <h2 class="mt-3 text-center">ส่ง Flex Message ไปยังห้องต่างๆ</h2>
</div>
</div>
      <div class="text-center">
        <button class="btn btn-danger mb-3 text-white text-center" onclick="goSimulator()">
          ออกแบบ Flex Simulator
        </button>
                  </div>

         <div class="card">
  <div class="card-body">
    <p>แสดงตัวอย่าง Flex ก่อนส่ง</p>
          <div class="chatbox text-center">
            <div id="flex1">
</div>
            
  </div>
  <div class="mb-3">
  <label for="exampleFormControlInput1" class="form-label mt-4">Alt text</label>
  <input type="text" class="form-control" maxlength="20" name="altText" id="altText"  placeholder="altText" required>
</div>
<div class="mb-3 mt-3">
 <span class="badge rounded-pill bg-danger" type="button" onclick="resetJson()">ลบโค๊ด Json</span>
  <span type="button" class="badge rounded-pill bg-primary" onclick="paste()">วาง Json</span>
  </label>
  <div class="accordion accordion-flush mt-4" id="accordionFlushExample">
  <div class="accordion-item">
    <h2 class="accordion-header" id="flush-headingOne">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseOne" aria-expanded="false" aria-controls="flush-collapseOne">
        ซ่อนแสดงJson 
      </button>
    </h2>
    <div id="flush-collapseOne" class="accordion-collapse collapse" aria-labelledby="flush-headingOne" data-bs-parent="#accordionFlushExample">
      <div class="accordion-body"><textarea class="form-control" id="flexjson"  name="flexjson" rows="20" required onchange="showFlex()" readonly>{
  "type": "bubble",
  "hero": {
    "type": "image",
    "url": "https://krubeecomsw.files.wordpress.com/2020/05/unnamed-3.jpg?w=512",
    "size": "full",
    "aspectRatio": "20:13",
    "aspectMode": "cover",
    "action": {
      "type": "uri",
      "uri": "http://linecorp.com/"
    }
  },
  "body": {
    "type": "box",
    "layout": "vertical",
    "contents": [
      {
        "type": "text",
        "text": "ทดสอบส่ง Flex ",
        "weight": "bold",
        "size": "xl",
        "align": "center"
      }
    ]
  },
  "footer": {
    "type": "box",
    "layout": "vertical",
    "spacing": "sm",
    "contents": [
      {
        "type": "button",
        "style": "primary",
        "height": "sm",
        "action": {
          "type": "uri",
          "label": "ส่ง Flex",
          "uri": "https://line.me/R/app/1661515542-7JAnYE4d"
        }
      },
      {
        "type": "box",
        "layout": "vertical",
        "contents": [],
        "margin": "sm"
      }
    ],
    "flex": 0
  }
}</textarea></div>
    </div>
  </div>
 
    <button class="btn btn-primary mt-2" id="btnsend" type="button" onclick="sendFlex()">
        ส่งเลยตอนนี้
        </button>
  <button class="btn btn-primary" type="button" id="btnlad" disabled style="display:none;">
  <span class="spinner-grow spinner-grow-sm" aria-hidden="true"></span>
  <span role="status">กำลังส่งFlexโปรดรอ...</span>
</button>
          <p class="mt-5" id="myFlex" hidden></p>
</div>
</div>
      </div>
    </div>
  </div>
  <p class="text-center mt-2">DevelopBy.Teerapong Promwang</p>
</div>  

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="script.js"></script>
<script src="flex2html.js"></script>
<script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>

  </body>
</html>
